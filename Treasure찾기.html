<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>보물찾자</title>
</head>
<body>
    <h1 id="heading">보물은 어디있을까</h1>
    
    <img id="map" width="800" height="800" src="http://nostarch.com/images/treasuremap.png">
    <p id="distance"></p>

    <script src="http://code.jquery.com/jquery-2.1.0.js" ></script>

    <script>

        var getRandomPoint = function(size) {
            return Math.floor(Math.random()*size);
        }

        var width = 800;
        var height = 800;
        var clicks = 0;

        var treasurePoint = {
            x: getRandomPoint(width),
            y: getRandomPoint(height);
        }

        var getDistance = function(event, treasurePoint) {
            var diffX = event.offsetX - treasurePoint.x;
            var diffY = event.offsetY - treasurePoint.y;
            return Math.sqrt(diffX*diffX + diffY*diffY);
        }

        var getHintText = function(distance) {
            if(distance < 27) {
                return "1111";
            }
            else if(distance < 55) {
                return "22"
            }
            else if(distance < 100) {
                return "3";
            }
            else if(distance < 180) {
                return "4";
            }
            else if(distance < 350) {
                return "5";
            }
            else if(distance < 600) {
                return "6";
            }
            else {
                return "택도없어어~"
            }
        };

        $("#map").click(function(event) {
            clicks++;
            var distance = getDistance(event.treasurePoint);
            var distanceHint = getHintText(distance);
            $("#distance").text(distanceHint);
            if(distance < 13) {
                alert(clicks + "번 클릭한 끝에 보물등장장!");
            }

        })

    </script>
</body>
</html>